<h1>ai2html.org</h1>
<h1>ai2html</h1>

<blockquote>
<p>ai2html is a script for Adobe Illustrator that converts your Illustrator artwork into html and css.</p>
</blockquote>

<h2>About</h2>

<p>The script renders text as absolutely positioned html elements. The remaining art is exported as an image that is placed underneath the text in the html. Artboards can be rendered as separate divs in a single file, or as separate files. The exported files are html partials, that is, everything is enclosed in a div that can be inserted into a page template. It is also possible to specify an html page template to insert the html partial to preview your artwork in the context of your site architecture and css.</p>

<h2>Table of contents</h2>

<ul>
<li><a href="#how-to-install-ai2html">How to install ai2html</a></li>
<li><a href="#overview-of-how-to-use-ai2html">Overview of how to use ai2html</a></li>
<li><a href="#controlling-how-your-text-is-converted-into-html">Controlling how your text is converted into html</a></li>
<li><a href="#settings">Settings</a></li>
<li><a href="#which-attributes-are-converted-to-html-and-css">Which attributes are converted to html and css</a></li>
<li><a href="#limitations">Limitations</a></li>
</ul>

<h2>How to install ai2html</h2>

<p>Move the ai2html.jsx file into the Illustrator folder where scripts are located. For example, on Mac OS&nbsp;X running Adobe Illustrator CC 2014, the path would be:
<code>
Applications\Adobe Illustrator CC 2014\Presets\en_US\Scripts\ai2html.jsx
</code></p>

<h2>Overview of how to use ai2html</h2>

<ol>
<li>Create your Illustrator artwork. Size the artboard to the dimensions that you want the div to appear on the web page.</li>
<li>Make sure your <code>Document Color Mode</code> is set to <code>RGB</code>. You can do this from the <code>File</code> menu.</li>
<li>Make sure you have already saved your document. The script uses the location of the ai file to put a folder into which the exported html and image files are saved.</li>
<li>Run the script by choosing: <code>File &gt; Scripts &gt; ai2html</code></li>
<li>Go to the folder containing your Illustrator file. Inside will be a folder called <code>ai2html-output</code>. Open the html files in your browser to preview your output.</li>
</ol>

<h2>Controlling how your text is converted into html</h2>

<p>Discussion here about:
- Choosing between point and area text.
- Choosing the paragraph alignment of the text
- Limitations because of one style per paragraph</p>

<h2>Settings</h2>

<p>There are several ways of customizing the output of the script:
- <a href="#special-text-blocks">Special text blocks</a>
  - <a href="#ai2html-settings">ai2html-settings</a>
  - <a href="#ai2html-css">ai2html-css</a>
  - <a href="#ai2html-js">ai2html-js</a>
  - <a href="#ai2html-html">ai2html-html</a>
  - <a href="#ai2html-text">ai2html-text</a>
- <a href="#layer-and-object-names">Layer and object names</a>
- <a href="#artboard-names">Artboard names</a>
- <a href="#notes-in-the-attributes-panel">Notes in the attributes panel</a></p>

<h4>Special text blocks</h4>

<p>The script recognizes five special types of text blocks, which begin with <code>ai2html-</code> followed by one of the following keywords: <code>settings</code>, <code>css</code>, <code>js</code>, <code>html</code> or <code>text</code>. That text should be the only thing on the first line of the text block. The special text blocks can be placed anywhere in your Illustrator document, but note that if you place them on an artboard their contents will be rendered in your output.</p>

<h5><code>ai2html-settings</code></h5>

<p>Most of the script’s options are set in the settings text block. When you run ai2html for the first time in your ai file, the script will place a settings text block to the upper left of all your artboards. Here is a description of the settings:</p>

<p><em>Options that are included in the settings text block by default</em></p>

<ul>
<li><strong>image_format</strong>

<ul>
<li><span style="font-variant: small-caps">Possible values</span>: <code>png</code> <code>png24</code> <code>jpg</code></li>
<li><span style="font-variant: small-caps">Default</span>: <code>png</code></li>
<li>You can specify more than one image format to be output by listing the desired formats separated by commas. This can be useful if you want to see which image format has the smallest file size. The first format in the list will be the only one referenced in the html. </li>
</ul></li>
<li><strong>responsiveness</strong>

<ul>
<li><span style="font-variant: small-caps">Possible values</span>: <code>fixed</code> <code>dynamic</code></li>
<li><span style="font-variant: small-caps">Default</span>: <code>fixed</code></li>
<li><code>dynamic</code> responsiveness means that the ai2html divs will scale to fill the container they are placed in.</li>
<li><code>fixed</code> responsiveness means that the ai2html div will appear only at the size it was created in Illustrator and will not change sizes if the container it is placed in changes size.</li>
</ul></li>
<li><strong>output</strong>

<ul>
<li><span style="font-variant: small-caps">Possible values</span>: <code>one-file</code> <code>multiple-files</code></li>
<li><span style="font-variant: small-caps">Default</span>: <code>one-file</code></li>
<li><code>one-file</code> output means that all artboards will be written into one html file.</li>
<li><code>multiple-files</code> output means that each artboard will be written to separate html files.</li>
</ul></li>
<li><strong>html<em>output</em>path</strong>

<ul>
<li><span style="font-variant: small-caps">Default</span>: <code>/ai2html-output/</code></li>
<li>Use this if you want to redirect the output to a different folder. The path should be written relative to the location of the ai file.</li>
</ul></li>
<li><strong>html<em>output</em>extension</strong>

<ul>
<li><span style="font-variant: small-caps">Default</span>: <code>.html</code></li>
<li>Use this if you want to change the extension of the html partial.</li>
</ul></li>
<li><strong>image<em>output</em>path</strong>

<ul>
<li><span style="font-variant: small-caps">Default</span>: <code>&lt;blank&gt;</code></li>
<li>Use this if you want to change the path of the images that are placed behind the html text. This path should be written relative to the location of the <code>html_output_path</code>.</li>
</ul></li>
<li><strong>local<em>preview</em>template</strong>

<ul>
<li><span style="font-variant: small-caps">Default</span>: <code>template.html</code></li>
<li>Use this to specify a page template into which the html partial will be inserted to preview your artwork in the context of your site architecture and css. Sample templates can be downloaded from the ai2html Github repo. Any variables from ai2html-settings or ai2html-text blocks can be inserted into the templates using either mustache (eg. <code>) or ejs/erb (eg. `&lt;%=headline%&gt;`) notation. The ai2html partial can be inserted using the</code> variable.</li>
</ul></li>
<li><strong>png<em>number</em>of_colors</strong>

<ul>
<li><span style="font-variant: small-caps">Possible values</span>: Any integer from <code>2</code> to <code>256</code></li>
<li><span style="font-variant: small-caps">Default</span>: <code>128</code></li>
<li>Use this to specify the quality of <code>png</code> or <code>png24</code> images.</li>
</ul></li>
<li><strong>jpg_quality</strong>

<ul>
<li><span style="font-variant: small-caps">Possible values</span>: Any integer from <code>0</code> to <code>100</code></li>
<li><span style="font-variant: small-caps">Default</span>: <code>60</code></li>
<li>Use this to specify the quality of <code>jpg</code> images.</li>
</ul></li>
<li><strong>headline</strong><br><strong>leadin</strong><br><strong>notes</strong><br><strong>sources</strong><br><strong>credit</strong>

<ul>
<li><span style="font-variant: small-caps">Possible values</span>: Text with no line breaks</li>
<li>These fields are used to populate fields in the <code>local_preview_tempate</code> and can be written to a “config” text file along with the html. The config file is written in yml can be used to pass parameters to a cms.</li>
</ul></li>
</ul>

<p><em>Options that can be added to the settings text block</em></p>

<ul>
<li><strong>max_width</strong>

<ul>
<li><span style="font-variant: small-caps">Possible values</span>: Any positive integer</li>
<li><span style="font-variant: small-caps">Default</span>: <code>&lt;blank&gt;</code></li>
<li>Specifying a <code>max_width</code> inserts a max-width css instruction on the div containing the ai2html partial. The width should be specified in pixels.</li>
</ul></li>
<li><strong>create<em>config</em>file</strong>

<ul>
<li><span style="font-variant: small-caps">Possible values</span>: <code>true</code> <code>false</code></li>
<li><span style="font-variant: small-caps">Default</span>: <code>false</code></li>
<li>Specify <code>true</code> if you want the script to also output a text file in yml format containing the parameters you want to pass to your cms.</li>
</ul></li>
<li><strong>config<em>file</em>path</strong>

<ul>
<li><span style="font-variant: small-caps">Default</span>: <code>&lt;blank&gt;</code></li>
<li><span style="font-variant: small-caps">Example</span>: <code>/ai2html-output/config.yml</code></li>
<li>Enter the full path to the file including the filename that you want the config file to be named. The path should be written relative to the location of the Illustrator file.</li>
</ul></li>
<li><strong>png_transparent</strong>

<ul>
<li><span style="font-variant: small-caps">Possible values</span>: <code>yes</code> <code>no</code></li>
<li><span style="font-variant: small-caps">Default</span>: <code>no</code></li>
<li>This option lets you make transparent any png image that is output by the program. Note that specifying transparent png’s can result in a visibly significant degradation in the image. </li>
</ul></li>
<li><strong>center<em>html</em>output</strong>

<ul>
<li><span style="font-variant: small-caps">Possible values</span>: <code>true</code> <code>false</code></li>
<li><span style="font-variant: small-caps">Default</span>: <code>true</code></li>
<li>Specifying <code>true</code> on this option causes the ai2html div to be centered within the container it is placed in. </li>
</ul></li>
<li><strong>use<em>2x</em>images<em>if</em>possible</strong>

<ul>
<li><span style="font-variant: small-caps">Possible values</span>: <code>yes</code> <code>no</code></li>
<li><span style="font-variant: small-caps">Default</span>: <code>yes</code></li>
<li>Specifying <code>yes</code> on this setting tells the script to output images at double the resolution if possible. The script uses limits specified in this <a href="http://apple.co/1M1dvES">document</a> to determine if the size of the image is too large to make it double resolution.</li>
</ul></li>
<li><strong>testing_mode</strong>

<ul>
<li><span style="font-variant: small-caps">Possible values</span>: <code>yes</code> <code>no</code></li>
<li><span style="font-variant: small-caps">Default</span>: <code>no</code></li>
<li>Specifying <code>yes</code> on this setting causes the text in the file to be rendered both on the image and in the html. This is useful for testing whether the placement of html text is consistent with the Illustrator file.</li>
</ul></li>
</ul>

<p><em>If you want to change the default settings, I have been using this <a href="http://bit.ly/1BP86RH">Google spreadsheet</a> to change the view and change the settings. Feel free to make a copy of the spreadsheet for yourself to roll your own settings.</em></p>

<h5><code>ai2html-css</code></h5>

<p>If you want to add some css that is always inserted into your html partial, include it in a text block somewhere in your Illustrator document, but not on an artboard. Make the first line of the text block reads <code>ai2html-css</code>. The css will be added inside <code>&lt;style&gt;</code> tags so don’t include <code>&lt;style&gt;</code> tags in the text block.</p>

<h5><code>ai2html-js</code></h5>

<p>If you want to add some javascript that is always inserted into your html partial, include it in a text block somewhere in your Illustrator document, but not on an artboard. Make the first line of the text block reads <code>ai2html-js</code>. The js will be added at the end of all the html for each artboard. You will need to include the enclosing <code>script</code> tags in the text block.</p>

<h5><code>ai2html-html</code></h5>

<p>If you want to add some html that is always inserted into your html partial, include it in a text block somewhere in your Illustrator document, but not on an artboard. Make the first line of the text block reads <code>ai2html-html</code>. The html will be added at the end of all the html for each artboard.</p>

<h5><code>ai2html-text</code></h5>

<p>You can store text into variables and insert them into your document using basic mustache or erb/ejs notation. Any variables in the <code>ai2html-settings</code> or in <code>ai2html-text</code> blocks can be used.</p>

<p>To assign text to a variable, create a text block somewhere in your Illustrator document, but not on an artboard. Make the first line of that text block read <code>ai2html-text</code>. Each subsequent paragraph should be in the format of <code>variable_name: Lorem ipsum dolor.</code>. Variable names should only be letters, numbers and underscores.</p>

<p>Now you can insert that text anywhere in your document by placing `<code>or</code>&lt;%=variable_name%&gt;` where you want that text to appear.</p>

<p>Note that you can pass mustache or erb/ejs notation to your html partial as long as the variable names don’t match the variable names in the <code>ai2html-settings</code> or <code>ai2html-text</code> blocks.</p>

<h4>Layer and object names</h4>

<p>The name of the layer that is the direct parent of a text block is added as a class to the div that corresponds to that text block. This allows you to write custom css targeting all text blocks in a layer. Class names have <code>ai2html-</code> appended to the front of the name. (Add example here) </p>

<p>Another way of targeting a text block is to give that text object a name in the Layers palette. If you give the text object a name, it will be added as an id to the div that corresponds to that text block. In this case <code>ai2html-</code> is not appended to the beginning of the id, so take care that you begin the id with letters and not numbers. (Add example here)</p>

<h4>Artboard names</h4>

<p>Artboard names become part of the id of the div corresponding to that artboard.</p>

<p>(Add explanation of colon notation for specifying widths at which to show different artboards.)</p>

<h4>Notes in the attributes panel</h4>

<h2>Which attributes are converted to html and css</h2>

<p>The script processes each text object in your Illustrator file and translates these attributes into inline and css styles. Each point- or area-text object is converted into a <code>&lt;div&gt;</code>. Each paragraph in the text object are converted into <code>&lt;p&gt;</code> tags within the <code>&lt;div&gt;</code>.
* Inline styles on the <code>&lt;div&gt;</code>
  * Position
  * Opacity
* CSS styles applied to <code>&lt;p&gt;</code> tags
  * Font
  * Text size
  * Leading
  * Paragraph space before and after
  * Paragraph alignment
    * The alignment of the first paragraph of a text object determines how it is placed in the html. If the first paragraph is left aligned, then on the web page the text object’s div will be absolutely positioned from it’s left edge. If the first paragraph is right aligned, the div will be positioned from its right edge. If the first paragraph is centered, then the div will be positioned from its center.
    * This is important because fonts are rendered slightly differently across browsers and operating systems. This means that in IE on a Windows machine, the font may be a bit larger than in Chrome on a Mac. So a label next to a city dot on a map end up too far away or overlapping the dot if you do not paragraph align the text relative to the dot.
    * Setting more than one kind of paragraph alignment on a point text object cannot be translated into html, as there is really no such thing as a point text object in html. If you really want to have different paragraph alignments within a single text object, you should do it with an area text object.
  * Capitalization
  * Text color
  * Character tracking</p>

<h2>Limitations</h2>

<ul>
<li>Because numbers get rounded to whole pixels by the web page when formatting text and positioning elements, the html version of a graphic will not line up exactly with its Illustrator version. Rounding differences are particularly compounded if you have blocks of text that span many lines and have fractional leading in Illustrator.</li>
<li>The script currently only sets one style per paragraph, so custom styled words or characters within a paragraph are ignored. Each paragraph’s style is determined by the middle character in the paragraph.</li>
<li>The script assumes that text always goes above the art.</li>
<li>Artboards should have unique names.</li>
<li>Paragraphs with full justification and center/left/right specified will just be “justified” in html.</li>
<li>If text is not hidden using the hide command, but rather is hidden because it is behind a mask, it will show up if it is within the artboard.</li>
<li>Labels in graph objects will be rendered as part of the image. (Something changed in newer versions of CC in the way text objects inside the graph object are handled.) If you want your chart labels to be shown as html, you will need to ungroup the chart.</li>
<li>In area text blocks, text that is hidden because it is overflowing the box will appear in the html output. A future version of the script may exclude that text (if I can figure out how to do it).</li>
</ul>

<p>Features
Custom css, js, html
Adding classes by using layers
Alignment
Vertical alignment
Mustache templating
Dynamic
Lazy load
Image settings
Promo image auto generated
Output to one html file or multiple html files.
Artboard
Naming to set lower viewports
Add “-” to front to ignore</p>

<p>Options set by where you put your ai file
If the file is in the ai folder in an ai2html project, the html output automatically goes into the public folder of the Preview project.
If the file is in the ai folder of a Preview project that is not an ai2html project, the html output goes into the src folder of the Preview project.
The ai2html script determines if the Preview project is an ai2html project by checking to see if “project_type” in the config.yml is set to “ai2html.”</p>

<p>Options set by the ai2html-settings text block
These are generally not space or tab sensitive. Just separate the setting name from the option with a colon.
image<em>format
Options:
png
jpg
Notes:
You can specify both png and jpg by typing both of them separated by a comma — as in “png, jpg” — if you want to just generate both and see which one is larger. Only the first one in the list will be used in the output.
Generally, select png for graphics that have fewer colors, like charts. Select jpg if there are photographic images or many gradients/blends.
responsiveness
Options:
fixed
dynamic
Notes:
The fixed option will generate a static graphic at the size of the artboard.
If you specify dynamic, the web output will scale to fill the width of the div that you put the html output into.
output
Options:
preview-one-file
preview-multiple-files
Notes:
The one-file option will put the html for all artboards into a single html file called index.html.
The multiple-file option will generate a separate html file for each artboard. The files will be named a composite of the ai filename and the artboard name.
use</em>lazy<em>loader
Options:
yes
no
Notes:
If yes is specified, then a dummy image (a transparent png) is inserted into the html output in place of the image. Data attributes are added to the img tag so that the real image is only loaded if the viewport that uses the image is actually active. This prevents the images from artboards for other viewports from loading, thus allowing the page to load more quickly. This option will also force the inclusion of resizer.js and resizer.css onto the page which is the magic that swaps out the images.
If no is specifed, then the urls of images for all artboards and viewports are hardcoded in the html. Beware that for pages with large images or many images, choosing this option will make the page load more slowly because it will be loading unnecessary images.
use</em>2x<em>images</em>if<em>possible
Options:
yes
no
Notes:
If yes, the script will generate double resolution images if the image size does not exceed the pixel limit for older iPhones.
create</em>promo<em>image
Options
yes
no
Notes:
If yes, the script will generate a jpg or png (depending on what is specified by image</em>format) at a very large size to satisfy the requirements of Scoop promo images.
png<em>transparent
Options
yes
no
Notes
If yes, png images used in the html output will have a transparent background.
png</em>number<em>of</em>colors
Options
A number from 2 to 256
Default is 128
Notes
If png is selected in image<em>format, this can be used to set the quality of the png. Higher numbers may improve the image quality, but will also increase the file size.
jpg</em>quality
Options
A number from 0 to 100
Default is 80
Notes
If jpg are selected in image_format, this can be used to set the quality of the png. Higher numbers may improve the image quality, but will also increase the file size.</p>

<p>headline, leadin, notes, credit, sources
Options
Text. Cannot contain returns.
last<em>updated</em>text
Options
page<em>template : { useQuoteMarks:false, defaultValue:&quot;nyt5-article-embed&quot; },
scoop</em>publish<em>fields : { useQuoteMarks:false, defaultValue:&quot;true&quot; },
publish</em>system : { useQuoteMarks:false, defaultValue:&quot;scoop&quot; }, // or scoop<em>stg
scoop</em>username : { useQuoteMarks:false, defaultValue:&quot;&quot; },
scoop<em>slug : { useQuoteMarks:false, defaultValue:&quot;&quot; },
scoop</em>external<em>edit</em>key : { useQuoteMarks:false, defaultValue:&quot;&quot; },
scoop<em>asset</em>id : { useQuoteMarks:false, defaultValue:&quot;&quot; }</p>

<p>Options set by the artboard palette</p>

<p>Options set by the layers palette</p>

<p>Options set by the object’s “Notes” attribute</p>


